apiVersion: v1
kind: Service
metadata:
  name: wordscape
  annotations:
    service.alpha.kubernetes.io/app-protocols: '{"app-https":"HTTPS"}'
  labels:
    app: wordscape
spec:
  type: NodePort
  ports:
  - port: 443
    protocol: TCP
    targetPort: 8443
    name: app-https
  selector:
    app: wordscape
---
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: wordscape
spec:
  replicas: 2
  template:
    metadata:
      labels:
        app: wordscape
    spec:
      containers:
      - name: wordscape-container
        image: gcr.io/translate-watson/wordscape
        ports:
        - containerPort: 8443
          protocol: TCP
---
apiVersion: v1
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZoekNDQkcrZ0F3SUJBZ0lTQTB6Ky9IQ0lmVGJ2S1Y5bTVxN3hzaWlaTUEwR0NTcUdTSWIzRFFFQkN3VUEKTUVveEN6QUpCZ05WQkFZVEFsVlRNUll3RkFZRFZRUUtFdzFNWlhRbmN5QkZibU55ZVhCME1TTXdJUVlEVlFRRApFeHBNWlhRbmN5QkZibU55ZVhCMElFRjFkR2h2Y21sMGVTQllNekFlRncweE9ERXlNalF3TWpNNE5UVmFGdzB4Ck9UQXpNalF3TWpNNE5UVmFNQ1F4SWpBZ0JnTlZCQU1UR1d4cFpYcGxiQzVyWlc1amFHeHBaMmgwZVdWaGNpNWoKYjIwd2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUNoQmVwT2RPSm11WDROSVdPagpxYXM3eDViZTFCMGJjQTZ0NjMybkxJTjhkM2pBQVVKNlAvaE1RZzY1bGdlS2k3RmRib29lSnFQbzlDWU50dDMyCnRSVVNnd0JmUWIwZXlmY3VwUUtLVHg3cmdXS1JLRlRRODJWTHJDemR1UVFxYnMybU05T093Y2JCd3A1dUtiTlgKMEpEdFI1UlkxdUtLcG1qWkt3WDFKK3BjWFBJdjhIMEhWZXVHZ2JBWkxSSTFvV0g3Q0o4ditGWWpKN1B4T2I5YQpPU2RzWmU5NDk0VUo2dk1LREVCOVZCRnU2WUN1dkc4Y0JDbk9vM3VZKzdORnE4SXRGelZzVHJaUmFJejNsNy9FCjMzdzhWWmp3cjExMVNnY21jTGJkZkY0cm84Ty9YMU91ZzhZT2tCOVNOTEt3UmRhVUNFV2pjN3paRUpENXM0MlAKYVVYckFnTUJBQUdqZ2dLTE1JSUNoekFPQmdOVkhROEJBZjhFQkFNQ0JhQXdIUVlEVlIwbEJCWXdGQVlJS3dZQgpCUVVIQXdFR0NDc0dBUVVGQndNQ01Bd0dBMVVkRXdFQi93UUNNQUF3SFFZRFZSME9CQllFRk5CdHZBR1kwcGRzCkZKcERHaGhTQVBLRU1MN3NNQjhHQTFVZEl3UVlNQmFBRktoS2FtTUVmZDI2NXRFNXQ2WkZaZS96cU95aE1HOEcKQ0NzR0FRVUZCd0VCQkdNd1lUQXVCZ2dyQmdFRkJRY3dBWVlpYUhSMGNEb3ZMMjlqYzNBdWFXNTBMWGd6TG14bApkSE5sYm1OeWVYQjBMbTl5WnpBdkJnZ3JCZ0VGQlFjd0FvWWphSFIwY0RvdkwyTmxjblF1YVc1MExYZ3pMbXhsCmRITmxibU55ZVhCMExtOXlaeTh3UUFZRFZSMFJCRGt3TjRJYVlXNWtjbTlwWkM1clpXNWphR3hwWjJoMGVXVmgKY2k1amIyMkNHV3hwWlhwbGJDNXJaVzVqYUd4cFoyaDBlV1ZoY2k1amIyMHdUQVlEVlIwZ0JFVXdRekFJQmdabgpnUXdCQWdFd053WUxLd1lCQkFHQzN4TUJBUUV3S0RBbUJnZ3JCZ0VGQlFjQ0FSWWFhSFIwY0RvdkwyTndjeTVzClpYUnpaVzVqY25sd2RDNXZjbWN3Z2dFRkJnb3JCZ0VFQWRaNUFnUUNCSUgyQklIekFQRUFkZ0RpYVV1dUp1anAKUUFub2hodTJPNFBVUHVmK2RJajdwSThva3dHZDNmSGIvZ0FBQVdmZVMwajZBQUFFQXdCSE1FVUNJRnNJMXg3Qgp5NGgzMkxKVnhzTHVMZ09zVnlVSGRYUHJrUWhPTi9iNnMxbGVBaUVBN0pac293OER2YVlMcFVjRDJwaWpBd2F6CjdmMUlaSnN5Rkxuc2xjMWVmdGdBZHdBcFBGR1dWTWc1WmJxcVVQeFlCOVMzYjc5WWVpbHkzS1RERFBUbFJVZjAKZUFBQUFXZmVTMGo1QUFBRUF3QklNRVlDSVFDT05meEF5Q2lkbWRiNHJaL3dGSFJIVGh1bzRwajBoV1lHeWRscgpieDNoRXdJaEFNelFnVllpd2s5QXhZajF5bFI4MU5qMDVidFJzTFpvTXUzR0M3NWRwbHBXTUEwR0NTcUdTSWIzCkRRRUJDd1VBQTRJQkFRQnhZWVJoYnN3TXhhQklTQlpSQzBaNFh3ZXVUWFFNVFBTVmtJUHZtNzdNSmhpUWJnYWsKa1RCVXhXWWJxS3JzUGhTUWdKL3dNQVNPakZKazVicnlJT0hVRDdDRThvQTMxd3N0QmJDeDgwNWwwdUdnQ0ZzbAo4Rm8rMmRwSDZ3V1FPY2l4Mm1icnY2em8yN3BlZURiUFYyaDNqVjdCKzN3RTVtSEQrek9JV0J1MFdiNGh3RElqCnVzdnczRlVsK1pXOXY4N2VWVHVrWkZ3KzhnZmgyZnhaSnpuWldRanNGMTNjSkdpckZxbDc1QjV1akdKTDdhTTEKS0JoQTNCV2dmV3VDNGxRcU1ZV1d4NENCblNTZGhpY2xKays4Y29IUEthR3NuYklOMG1SV0Q1aXRGcTRFd28xWgo1bEpmVlhybkVZbHM4VkdYb0pXeDdkOFpkNkRiTm4yS3pVMjgKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRWtqQ0NBM3FnQXdJQkFnSVFDZ0ZCUWdBQUFWT0ZjMm9MaGV5bkNEQU5CZ2txaGtpRzl3MEJBUXNGQURBLwpNU1F3SWdZRFZRUUtFeHRFYVdkcGRHRnNJRk5wWjI1aGRIVnlaU0JVY25WemRDQkRieTR4RnpBVkJnTlZCQU1UCkRrUlRWQ0JTYjI5MElFTkJJRmd6TUI0WERURTJNRE14TnpFMk5EQTBObG9YRFRJeE1ETXhOekUyTkRBME5sb3cKU2pFTE1Ba0dBMVVFQmhNQ1ZWTXhGakFVQmdOVkJBb1REVXhsZENkeklFVnVZM0o1Y0hReEl6QWhCZ05WQkFNVApHa3hsZENkeklFVnVZM0o1Y0hRZ1FYVjBhRzl5YVhSNUlGZ3pNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DCkFROEFNSUlCQ2dLQ0FRRUFuTk1NOEZybExrZTNjbDAzZzdOb1l6RHExelVtR1NYaHZiNDE4WENTTDdlNFMwRUYKcTZtZU5RaFk3TEVxeEdpSEM2UGpkZVRtODZkaWNicDVnV0FmMTVHYW4vUFFlR2R4eUdrT2xaSFAvdWFaNldBOApTTXgreWsxM0VpU2RSeHRhNjduc0hqY0FISnlzZTZjRjZzNUs2NzFCNVRhWXVjdjliVHlXYU44aktrS1FESVowClo4aC9wWnE0VW1FVUV6OWw2WUtIeTl2NkRsYjJob256aFQrWGhxK3czQnJ2YXcyVkZuM0VLNkJsc3BrRU5uV0EKYTZ4Szh4dVFTWGd2b3BaUEtpQWxLUVRHZE1EUU1jMlBNVGlWRnJxb003aEQ4YkVmd3pCL29ua3hFejB0TnZqagovUEl6YXJrNU1jV3Z4STBOSFdRV002cjZoQ20yMUF2QTJIM0Rrd0lEQVFBQm80SUJmVENDQVhrd0VnWURWUjBUCkFRSC9CQWd3QmdFQi93SUJBREFPQmdOVkhROEJBZjhFQkFNQ0FZWXdmd1lJS3dZQkJRVUhBUUVFY3pCeE1ESUcKQ0NzR0FRVUZCekFCaGlab2RIUndPaTh2YVhOeVp5NTBjblZ6ZEdsa0xtOWpjM0F1YVdSbGJuUnlkWE4wTG1OdgpiVEE3QmdnckJnRUZCUWN3QW9ZdmFIUjBjRG92TDJGd2NITXVhV1JsYm5SeWRYTjBMbU52YlM5eWIyOTBjeTlrCmMzUnliMjkwWTJGNE15NXdOMk13SHdZRFZSMGpCQmd3Rm9BVXhLZXhwSHNzY2ZyYjRVdVFkZi9FRldDRmlSQXcKVkFZRFZSMGdCRTB3U3pBSUJnWm5nUXdCQWdFd1B3WUxLd1lCQkFHQzN4TUJBUUV3TURBdUJnZ3JCZ0VGQlFjQwpBUllpYUhSMGNEb3ZMMk53Y3k1eWIyOTBMWGd4TG14bGRITmxibU55ZVhCMExtOXlaekE4QmdOVkhSOEVOVEF6Ck1ER2dMNkF0aGl0b2RIUndPaTh2WTNKc0xtbGtaVzUwY25WemRDNWpiMjB2UkZOVVVrOVBWRU5CV0RORFVrd3UKWTNKc01CMEdBMVVkRGdRV0JCU29TbXBqQkgzZHV1YlJPYmVtUldYdjg2anNvVEFOQmdrcWhraUc5dzBCQVFzRgpBQU9DQVFFQTNUUFhFZk5qV0RqZEdCWDdDVlcrZGxhNWNFaWxhVWNuZThJa0NKTHhXaDlLRWlrM0pIUlJIR0pvCnVNMlZjR2ZsOTZTOFRpaFJ6WnZvcm9lZDZ0aTZXcUVCbXR6dzNXb2RhdGcrVnlPZXBoNEVZcHIvMXdYS3R4OC8Kd0FwSXZKU3d0bVZpNE1GVTVhTXFyU0RFNmVhNzNNajJ0Y015bzVqTWQ2am1lV1VISzhzby9qb1dVb0hPVWd3dQpYNFBvMVFZeiszZHN6a0RxTXA0ZmtseEJ3WFJzVzEwS1h6UE1UWitzT1BBdmV5eGluZG1qa1c4bEd5K1FzUmxHClBmWitHNlo2aDdtamVtMFkraVdsa1ljVjRQSVdMMWl3Qmk4c2FDYkdTNWpOMnA4TStYK1E3VU5LRWtST2IzTjYKS09xa3FtNTdUSDJIM2VESkFrU25oNi9ETkZ1MFFnPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
  tls.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2QUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktZd2dnU2lBZ0VBQW9JQkFRQ2hCZXBPZE9KbXVYNE4KSVdPanFhczd4NWJlMUIwYmNBNnQ2MzJuTElOOGQzakFBVUo2UC9oTVFnNjVsZ2VLaTdGZGJvb2VKcVBvOUNZTgp0dDMydFJVU2d3QmZRYjBleWZjdXBRS0tUeDdyZ1dLUktGVFE4MlZMckN6ZHVRUXFiczJtTTlPT3djYkJ3cDV1CktiTlgwSkR0UjVSWTF1S0twbWpaS3dYMUorcGNYUEl2OEgwSFZldUdnYkFaTFJJMW9XSDdDSjh2K0ZZako3UHgKT2I5YU9TZHNaZTk0OTRVSjZ2TUtERUI5VkJGdTZZQ3V2RzhjQkNuT28zdVkrN05GcThJdEZ6VnNUclpSYUl6MwpsNy9FMzN3OFZaandyMTExU2djbWNMYmRmRjRybzhPL1gxT3VnOFlPa0I5U05MS3dSZGFVQ0VXamM3elpFSkQ1CnM0MlBhVVhyQWdNQkFBRUNnZ0VBVndpYWQ2T254N3hWRElYU2xHQ2Q1Q2JpUGpqS0xzMW5zY3ZLVS9TMGNTOG0KUGltd0krRzF0SW96NlUzVmI2Wkh6T2Qxa2d4eXBmUnBLUnFCYU5yQnRBckl4YlFEbzhPb2JqYlVZNnVXVzliSQpUd3RNcE5BYUhVZkh6R1EzZ3pQMnhmSFhWSjhhYmhwaWhjcldYQTJvZUFncmY4Vk9GNEVReE9rRFJGbzV5NGU2CkIrdEpXalZMSzgyTjMyR0RBYVZFYXlhUHBxZFRIWGVZbXlTSHFDQVhXcmpNTWl0V0s2VHhkZ0k3WU9QT0oyUjcKTGVhRUUyNHN0eHRBYkVqK05RWjZ6SEFZNjhFbDVIL3R2cHhwUDFYVFJZcTNGRlFWZ04xa2dEbVhLbkhMckx3QQpyTEg4ZTR4Yk1aVFNXbHdZbmpFeElWS2JzaU9RKzJONnBJdjdKYzFOMlFLQmdRREwrYkJnTHNpd1h4aVpSdFhmCnhRYUFlNDBMdXZtNGRJZkVuYzFYdjVYdVM0cUh1NnRGV0lFWFNwZitGd0NpQS9JaDJ2N1pEMjFqTmlYb2dZZGkKWnBrSlFGdS85Vlc2bEdtelIzb3dDdzZ6Q1d6c09PSmdnQmplMTFwN1lOWkdpd1RuaVZiU1NqQnliWUk5S0NDego2OFduWEZQdjNsV0tabWZpaW4rbXNFcmpKd0tCZ1FES0Y3YmRKT0REdWw5VDhMdis0YmdaVXJaQ25XaG4xZThtCkc2VVovVHEzMVJ4QTBMd0doVlFOenlyd2NmOEFwaWhYNFJkSHB0VHczVENwWUNsZ1RQOUlmUkhMNmh5YmhYTlYKR3hTUW5kakdTS1B4SkhFekxwRkY3WDVaSGZ1ODZUZXZkc29CYTZsNVJIb2JmcENuSTRsUkpQV3FuYnF1WWhBQgpPQVZCRHVLeG5RS0JnRWRoMXphaHlMdm9XN3h3VExLbHlkTzI2VEpjdWIyeWtqemRtSm9Id3htRXVETXVHdzhHCm5RNmduVFpmcUdvS2hYY1JvN1Frc1B4U1c4dlZZS0t3RXdob3pITU9FWFZkTU94N3JDZ2FCb2ZqV1lvRmtqdUIKT0xMcm5JK200UFlJK3F0b3BjaXNDKzVQb285eWRwZGdnR2hFYUY5K2FHTXAyVnN2YXVMVHVURnJBb0dBSVpvNQoxS0Y2SWZGT1FuWEh2SVNwaU1SZys4aVNnSmxvejB4UGNuZlJtSmw5dmlVMjdscWk5RHpiSmVtK2Zjd2k3eUhGCkxpdkdRbHAwNmVUTVhHL1JEcXVGRndQUlIrYXptNVlLSUZXdW9xR1hhTlFuWWx3KzJZSzR2SGFvMGV0eFQrS1AKaWhidHNmVTUzSEo1K09DR3g1QStyT1RYRW9ISnFYbzRIVzR0TVYwQ2dZQUhqYi96OUt5TENiWUtHcWU1elpZawphcTZJeUE4L3pTcDFYdk1UMlN5aXVQeUw4Y1QwWlI5S25XL21VUHFMNUZoblNZNC84L3lNUFVkR0RjaTcrTGFzCkZWU1J4ZGRJR0V6WkZRaWVWTE5CMjYyK1NoWWRqb2ZoZU5uM0V3YlZHTnRTYjdVTEdNeVRVT0x4S2dJeDV4V3AKYThuT1k3aHlON29LTmNDa2xDVkNTZz09Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K
kind: Secret
metadata:
  name: tls-secret
type: Opaque
---
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: wordscape-ingress
  annotations:
    kubernetes.io/ingress.allow-http: "false"
    kubernetes.io/ingress.global-static-ip-name: "wordscapesip"
spec:
  tls:
  - secretName: tls-secret
  backend:
    serviceName: wordscape
    servicePort: 443
